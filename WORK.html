<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- â‘  æå‰æ”¾è·³è½¬è„šæœ¬ï¼šè¯†åˆ«æ‰‹æœº/å¹³æ¿ç›´æ¥å» MOBILE.htmlï¼ˆ?desktop=1 å¯å¼ºåˆ¶æ¡Œé¢ï¼‰ -->
  <script>
    (function () {
      var isMobileUA = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
      var isSmallScreen = Math.min(screen.width, screen.height) <= 820;
      var forceDesktop = new URLSearchParams(location.search).has('desktop');
      if ((isMobileUA || isSmallScreen) && !forceDesktop) {
        location.replace('MOBILE.html');
      }
    })();
  </script>

  <!-- ä¿æŒ About é¡µä¸€è‡´çš„ä¸­æ–‡å­—ä½“å¼•ç”¨ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">

  <link rel="icon" href="https://i.postimg.cc/vTq8ZSfy/05.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Burn1ngChrome;)</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.css">
  <style>
    :root{
      --font-en: "Helvetica Neue", Helvetica, Arial, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      --font-sc: "Noto Sans SC", "PingFang SC", "Microsoft YaHei", "Source Han Sans SC", sans-serif;

      /* About é¡µé‡Œ side çš„å­—å·/æƒé‡/letter-spacing */
      --fs-side: 14px;
      --fw-side: 700;
      --side-letter: 0.06em;
      --fs-side-home: 13px;
      --fw-side-home: 600;
    }

    html, body {
      height: 100%; margin: 0; overflow: hidden; background: #0b0b0b;
      font-family: var(--font-en), var(--font-sc);
    }
    #pano { position: fixed; inset: 0; width: 100vw; height: 100vh; }

    /* ========== å³ä¸Šè§’å åŠ å¯¼èˆªï¼šä¸¥æ ¼è¿˜åŸ About é¡µé£æ ¼ ========== */
    .side-overlay{
      position: fixed;
      /* å°è¯•æŠŠä½ç½®ä¸ About é¡µä¸­ wrap(max-width:1320px; padding:clamp(16px,3vw,28px)) çš„å³ä¾§å¯¹é½ */
      /* å½“è§†å£å¾ˆå®½æ—¶ï¼š right = (viewport - 1320px)/2 + padding (å–ä¸­é—´ padding=24px) */
      /* å¯¹ä¸åŒè§†å£åšå®¹é”™ï¼šç”¨ clamp ä¿éšœä¸ä¼šè·‘åˆ°å±å¹•å¤– */
      right: clamp(16px, calc((100vw - 1320px) / 2 + 24px), 48px);
      top: clamp(16px, 3vw, 32px);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 14px;
      z-index: 1000;
      user-select: none;
      pointer-events: auto; /* å…è®¸ç‚¹å‡»é“¾æ¥ */
      font-family: var(--font-sc), var(--font-en);
    }

    /* æ–‡æœ¬æ ·å¼ä¸¥æ ¼ç…§ About é¡µï¼ˆé»‘è‰²ã€æ— é˜´å½±ï¼‰ */
    .side-overlay a { text-decoration: none; color: #111; }
    .side-overlay .side-link{
      font-size: var(--fs-side);
      font-weight: var(--fw-side);
      letter-spacing: var(--side-letter);
      text-transform: uppercase;
      color: #111;            /* é»‘è‰²æ–‡å­—ï¼ˆAbout é¡µæ˜¯é»‘ï¼‰ */
      text-shadow: none;      /* å»æ‰é˜´å½± */
      padding: 2px 0;
    }
    .side-overlay .home-link{
      margin-top: 8px;
      display:inline-flex;
      flex-direction: column;
      gap: 2px;
      line-height: 1;
      color: #111;
    }
    .side-overlay .home-link span{
      font-size: var(--fs-side-home);
      font-weight: var(--fw-side-home);
    }

    /* å°å±è¡Œä¸ºï¼šä¸ About é¡µä¸€è‡´ï¼Œå¯¼èˆªæ”¶æ•›åˆ°æ›´ç´§å‡‘çš„ä½ç½® */
    @media (max-width: 1024px){
      .side-overlay{
        right: 18px;
        top: 18px;
      }
      .side-overlay .side-link{ font-size: 13px; }
      .side-overlay .home-link span{ font-size: 12px; }
      /* åœ¨éå¸¸çª„çš„å±å¹•ä¸Šä¸è¦æŒ¡åˆ°äº¤äº’ï¼ˆå¯æ ¹æ®éœ€è¦éšè—ï¼‰ */
    }

    /* ========== ä½ åŸæœ¬çš„çƒ­ç‚¹/ç®­å¤´ ç­‰æ ·å¼ï¼ˆä¿ç•™ï¼‰ ========== */
    .hs-portal { pointer-events: auto; transform: translateZ(0); }
    .hs-portal .hs-img {
      width: 160px; height: 160px;
      background-size: contain; background-position: center; background-repeat: no-repeat;
      cursor: pointer; transition: transform .15s ease; will-change: transform, background-image;
      touch-action: manipulation;
    }
    .hs-portal .hs-img:hover { transform: scale(1.06); }
    .hs-portal .hs-label {
      margin-top: 8px; text-align: center; font: 700 22px/1.1 var(--font-en);
      color: #111; pointer-events: none; user-select: none;
    }

    /* arrows */
    .walk-spot{ touch-action:none; -webkit-user-select:none; user-select:none; cursor:pointer;
      background:transparent!important; border:0!important; box-shadow:none!important; }
    .pnlm-hotspot.walk-spot .pnlm-hotspot-base{ display:none!important; }
    .walk-spot .wrap{ display:inline-block; transform: rotate(var(--rot,0deg)); transform-origin:center; transition: transform .15s ease; }
    .walk-spot:hover .wrap{ transform: rotate(var(--rot,0deg)) scale(var(--hover,1.08)); }
    .walk-spot .arrow-img{
      display:block; width:var(--w,120px); height:auto; border:0; border-radius:0;
      filter: var(--shadow, drop-shadow(0 6px 4px rgba(0,0,0,.35)));
      pointer-events:none; -webkit-user-drag:none; user-drag:none;
    }

    /* å…œåº•æç¤ºå±‚ */
    .fallback {
      position: fixed; inset: 0; display: none; place-items: center;
      color: #fff; background: #0b0b0b; padding: 24px; text-align: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      z-index: 5;
    }
    .fallback a { color: #ff4d4f; }
    #pano .pnlm-load-box, #pano .pnlm-loading{ display:none!important; }
  </style>
</head>
<body>
  <div id="pano" aria-label="Panorama"></div>

  <!-- å³ä¸Šè§’ï¼šä¸ About é¡µâ€œåŒæ ·å½¢å¼ / é»‘è‰²æ— é˜´å½± / ä½ç½®å°½é‡ä¸€è‡´â€ -->
  <nav class="side-overlay" aria-label="Site overlay">
    <a class="side-link" href="ABOUT ME.html">ABOUT ME</a>
    <a class="side-link" href="WORK.html">WORKS</a>
    <a class="side-link" href="OTHERS.html">OTHERS</a>
    <a class="home-link" href="index.html" title="Go to homepage">
      <span>way</span><span>back</span><span>home</span>
    </a>
  </nav>

  <div id="fallback" class="fallback" role="alert" aria-hidden="true">
    <div>
      <h2 style="margin:0 0 12px">åŠ è½½å…¨æ™¯å¤±è´¥æˆ–è®¾å¤‡ä¸æ”¯æŒ WebGL</h2>
      <p style="margin:0 0 16px">ä½ å¯ä»¥æµè§ˆè½»é‡ç‰ˆé¡µé¢ï¼š</p>
      <p><a href="MOBILE.html">ğŸ‘‰ å‰å¾€ MOBILE.html</a></p>
      <p style="margin-top:16px;font-size:14px;opacity:.75">
        å¦‚éœ€ç»§ç»­å°è¯•æ¡Œé¢ç‰ˆï¼Œå¯åˆ·æ–°é¡µé¢ï¼›æˆ–æ£€æŸ¥ç½‘ç»œ / èµ„æºé“¾æ¥æ˜¯å¦å¯è¾¾ã€‚
      </p>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.js"></script>
  <script>
    /* ========== 0) åŸºç¡€èƒ½åŠ›æ£€æµ‹ï¼šæ—  WebGL ç›´æ¥å…œåº• ========== */
    (function ensureWebGL(){
      try {
        var c = document.createElement('canvas');
        var gl = c.getContext('webgl') || c.getContext('experimental-webgl');
        if (!gl) throw new Error('No WebGL');
      } catch(e) {
        document.getElementById('fallback').style.display = 'grid';
        throw e;
      }
    })();

    /* ========== èµ„æºé›†ä¸­ç®¡ç†ï¼ˆæ”¹è¿™é‡Œï¼‰ ========== */
    const ARROW_IMG = 'https://i.postimg.cc/wxyTHP74/image.png'; // ç®­å¤´å›¾ï¼ˆå‰è¿›ï¼‰
    const PANOS = {
      s1: 'wangzhan3-01.png',  // åœºæ™¯1
      s2: 'wangzhan3-03.png'   // åœºæ™¯2
    };

    // é¢„åŠ è½½ï¼ˆåŠ å…¥ s2 æ–°å›¾ï¼Œé¿å…é¦–æ¬¡é—ªçƒï¼‰
    (function preload(){
      [
        ARROW_IMG,
        // s1 ç”¨åˆ°
        'can-02.png','evil-02.png',
        'https://i.postimg.cc/Qd02Mpcq/234-04.png',
        'https://i.postimg.cc/dQrHFYsJ/Inspo.png',
        // s2 ç”¨åˆ°ï¼ˆç¤ºä¾‹ï¼‰
        'wangzhan3-04.png','wangzhan3-05.png','yan-06.png','yan-07.png',
        'renwu-08.png','renwu-10.png','renwu-09.png','renwu-11.png','renwu-12.png','renwu-13.png',
        // çƒ­ç‚¹4/5ï¼ˆå ä½ï¼‰
        'hotspot4.png','hotspot4-hover.png','hotspot5.png','hotspot5-hover.png'
      ].forEach(src=>{ const i=new Image(); i.referrerPolicy='no-referrer'; i.src=src; });
    })();

    /* ========== 1) å¤šåœºæ™¯é…ç½® ========== */
    const config = {
      default: {
        firstScene: 's1',
        autoLoad: true,
        mouseZoom: false, keyboardZoom: false, doubleClickZoom: false,
        showZoomCtrl: false, showFullscreenCtrl: false,
        showControls: false, compass: false,
        sceneFadeDuration: 800
      },
      scenes: {
        /* â€”â€” åœºæ™¯ 1 â€”â€” */
        s1: {
          type: 'equirectangular',
          panorama: PANOS.s1,

          yaw: 9.5, pitch: 4, hfov: 95,
          minYaw: -10, maxYaw: 360,
          minPitch: -60, maxPitch: 30,
          minHfov: 95, maxHfov: 95,

          hotSpots: [
            { yaw: -90, pitch: 13, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 600, defaultUrl: 'can-02.png', hoverUrl: 'can-02.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'canyou.html', target: '_self' } },

            
            { yaw: 130, pitch: 15, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 700, defaultUrl: 'evil-02.png', hoverUrl: 'evil-02.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'evil fruits.html', target: '_self' } },

            
              
            { yaw: 20, pitch: -18, cssClass: 'walk-spot',
              createTooltipFunc: walkImageHotspot,
              createTooltipArgs: { to: 's2', width: 120, rotate: 0, _yaw: 20, _pitch: -18, img: ARROW_IMG } }
          ]
        },

        /* â€”â€” åœºæ™¯ 2 â€”â€” */
        s2: {
          type: 'equirectangular',
          panorama: PANOS.s2,

          yaw: 0, pitch: 0, hfov: 95,
          minYaw: -180, maxYaw: 180,
          minPitch: -60, maxPitch: 30,
          minHfov: 95, maxHfov: 95,

          hotSpots: [
            { yaw: -90, pitch: 5, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 600, defaultUrl: 'wangzhan3-04.png', hoverUrl: 'wangzhan3-05.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'fly.html', target: '_self' } },

            { yaw: 20, pitch: 5, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 240, defaultUrl: 'renwu-10.png', hoverUrl: 'renwu-08.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'https://yexiiiii.framer.website', target: '_self' } },

            { yaw: 130, pitch: 0, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 600, defaultUrl: 'yan-06.png', hoverUrl: 'yan-07.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'aid.html', target: '_self' } },

            { yaw: 10, pitch: -8, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 220, defaultUrl: 'renwu-11.png', hoverUrl: 'renwu-09.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'https://joyceji.framer.website', target: '_self' } },

            { yaw: 40, pitch: -1, cssClass: 'hs-portal',
              createTooltipFunc: imageHotspot,
              createTooltipArgs: { width: 220, defaultUrl: 'renwu-12.png', hoverUrl: 'renwu-13.png', label: '' },
              clickHandlerFunc: navigateHotspot, clickHandlerArgs: { url: 'index.html', target: '_self' } },

            { yaw: -160, pitch: -18, cssClass: 'walk-spot',
              createTooltipFunc: walkImageHotspot,
              createTooltipArgs: { to: 's1', width: 120, rotate: 180, _yaw: -160, _pitch: -18, img: ARROW_IMG } }
          ]
        }
      }
    };

    const viewer = pannellum.viewer('pano', config);

    try { viewer.on('error', function(){ document.getElementById('fallback').style.display = 'grid'; }); } catch(e){}

    /* ========== 2) å›¾ç‰‡çƒ­ç‚¹ç»„ä»¶ï¼ˆhover/è§¦æ‘¸åé¦ˆï¼‰ ========== */
    function imageHotspot(hotSpotDiv, args) {
      const imgBox = document.createElement('div');
      imgBox.className = 'hs-img';

      if (args.width) {
        imgBox.style.width  = args.width + 'px';
        imgBox.style.height = (args.height ? args.height : args.width) + 'px';
      }

      const normal = args.defaultUrl;
      const hover  = args.hoverUrl || args.defaultUrl;
      imgBox.style.backgroundImage = `url("${normal}")`;

      imgBox.addEventListener('mouseenter', () => { imgBox.style.backgroundImage = `url("${hover}")`; });
      imgBox.addEventListener('mouseleave', () => { imgBox.style.backgroundImage = `url("${normal}")`; });

      imgBox.addEventListener('touchstart', () => {
        imgBox.style.backgroundImage = `url("${hover}")`;
        setTimeout(()=>{ imgBox.style.backgroundImage = `url("${normal}")`; }, 180);
      }, {passive:true});

      hotSpotDiv.appendChild(imgBox);

      if (args.label) {
        const label = document.createElement('div');
        label.className = 'hs-label';
        label.textContent = args.label;
        hotSpotDiv.appendChild(label);
      }
    }

    /* ========== 3) ç‚¹å‡»çƒ­ç‚¹è·³è½¬ ========== */
    function navigateHotspot(event, args) {
      if (!args || !args.url) return;
      if (args.target === '_blank') window.open(args.url, '_blank', 'noopener');
      else window.location.assign(args.url);
    }

    /* ========== 4) è¡—æ™¯å¼ç®­å¤´çƒ­ç‚¹ + å¹³æ»‘åˆ‡åœºæ™¯ ========== */
    function guardHotspot(el){
      ['pointerdown','mousedown','touchstart'].forEach(ev=>{
        el.addEventListener(ev, (e)=>{ e.preventDefault(); e.stopPropagation(); }, {capture:true, passive:false});
      });
      ['pointermove','mousemove','touchmove','pointerup','mouseup','touchend','wheel','contextmenu']
        .forEach(ev=>{ el.addEventListener(ev, (e)=>{ e.stopPropagation(); }, {capture:true}); });
    }

    function walkImageHotspot(hotSpotDiv, args){
      hotSpotDiv.classList.add('walk-spot');
      const wrap = document.createElement('span');
      wrap.className = 'wrap';
      wrap.style.setProperty('--rot',   (args.rotate ?? 0) + 'deg');
      wrap.style.setProperty('--hover', (args.hoverScale ?? 1.08));

      const img = document.createElement('img');
      img.className = 'arrow-img';
      img.src = args.img || ARROW_IMG;
      img.alt = args.alt || 'go';
      img.setAttribute('draggable','false');
      if (args.width) wrap.style.setProperty('--w', args.width + 'px');
      if (args.shadow === false) wrap.style.setProperty('--shadow', 'none');

      wrap.appendChild(img);
      hotSpotDiv.appendChild(wrap);

      guardHotspot(hotSpotDiv);

      hotSpotDiv.addEventListener('click', ()=>{
        walkTo(args.to, { alignYaw: (args.alignYaw ?? args._yaw), alignPitch: (args.alignPitch ?? args._pitch) });
      });
    }

    function shortestAngleDelta(a,b){ let d=(b-a)%360; if(d>180)d-=360; if(d<-180)d+=360; return d; }

    function walkTo(sceneId, opts={}){
      const dur  = 380;
      const zoom = 10;
      const start = performance.now();
      const y0 = viewer.getYaw(),   p0 = viewer.getPitch(), f0 = viewer.getHfov();
      const y1 = (opts.alignYaw   != null) ? opts.alignYaw   : y0;
      const p1 = (opts.alignPitch != null) ? opts.alignPitch : p0;
      const ease = t => t<.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2,3)/2;

      function step(now){
        const t = Math.min(1, (now - start) / dur);
        const k = ease(t);
        viewer.setYaw( y0 + shortestAngleDelta(y0, y1) * k );
        viewer.setPitch( p0 + (p1 - p0) * k );
        viewer.setHfov( f0 - zoom * k );
        if (t < 1) requestAnimationFrame(step);
        else {
          viewer.loadScene(sceneId, p1, y1, f0 - zoom);
          setTimeout(()=> viewer.setHfov(f0), 400);
        }
      }
      requestAnimationFrame(step);
    }

    /* â€”â€” è°ƒè¯•ï¼šæŒ‰ D æ‰“å°å½“å‰ yaw/pitch/hfov â€”â€” */
    window.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'd') {
        console.log('yaw:', viewer.getYaw().toFixed(2), 'pitch:', viewer.getPitch().toFixed(2), 'hfov:', viewer.getHfov().toFixed(2));
      }
    });
  </script>

  <noscript>
    <div class="fallback" style="display:grid">
      æœ¬é¡µé¢ä¾èµ– JavaScript/WebGLã€‚ä½ ä¹Ÿå¯ä»¥è®¿é—® <a href="MOBILE.html">MOBILE.html</a>ã€‚
    </div>
  </noscript>
</body>
</html>
